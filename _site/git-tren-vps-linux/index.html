<!DOCTYPE html> <html lang="en"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <meta name="description" content="[Git trên VPS Linux] Git là một Hệ thống quản lý phiên bản phân tán (Distributed Version Control System) tuyệt vời và phổ biến nhất hiện nay, chắc hẳn không ..."> <meta name="keywords" content="mobile app, frontend, and web development"> <meta name="author" content="Git trên VPS Linux - Hướng dẫn cài đặt và sử dụng | Nghi's Blog"> <meta name="viewport" content="width=device-width, initial-scale=1.0"> <meta name="theme-color" content="#f5f5f5"> <meta name="twitter:card" content="summary"> <meta name="twitter:title" content="Git trên VPS Linux - Hướng dẫn cài đặt và sử dụng | Nghi's Blog"> <meta name="twitter:description" content="[Git trên VPS Linux] Git là một Hệ thống quản lý phiên bản phân tán (Distributed Version Control System) tuyệt vời và phổ biến nhất hiện nay, chắc hẳn không ..."> <meta name="twitter:image" content="https://nghi.blog/img/nghi-logo.png"> <meta property="og:type" content="blog"> <meta property="og:url" content="https://nghi.blog"> <meta property="og:title" content="Git trên VPS Linux - Hướng dẫn cài đặt và sử dụng | Nghi's Blog"> <meta property="og:description" content="[Git trên VPS Linux] Git là một Hệ thống quản lý phiên bản phân tán (Distributed Version Control System) tuyệt vời và phổ biến nhất hiện nay, chắc hẳn không ..."> <meta property="og:image" content="https://nghi.blog/img/nghi-logo.png"> <title>Git trên VPS Linux - Hướng dẫn cài đặt và sử dụng | Nghi's Blog</title> <link rel="stylesheet" href="https://nghi.blog/css/main.css"> <link rel="canonical" href="https://nghi.blog/git-tren-vps-linux/"> <link rel="alternate" type="application/rss+xml" title="Nghi's Blog" href="https://nghi.blog/feed.xml"/> <link rel="shortcut icon" href="https://nghi.blog/favicon.ico"> <link rel="shortcut icon" href="https://nghi.blog/favicon.png"> </head> <body> <div class="row"> <div class="col s12 m3"> <div class="table cover"> <div class="cover-card table-cell table-middle"> <a href="https://nghi.blog/" class="author_name"> <img src="https://nghi.blog/img/nghi-logo.svg" alt="Nghi's Blog" class="avatar" width="80" height="80"> </a> <a href="https://nghi.blog/" class="author_name">Nghi Nguyen</a> <span class="author_job">Co-founder at Nepbean, jotodi app</span> <span class="author_bio mbm">"The only source of knowledge is experience." - Albert Einstein</span> <nav class="nav"> <ul class="nav-list"> <li class="nav-item"> <a href="https://nghi.blog/archive/">Archive</a> <span>/</span> </li> <li class="nav-item"> <a href="https://nghi.blog/topic/">Topics</a> <span>/</span> </li> <li class="nav-item"> <a href="https://nghi.blog/resume/">Resume</a> <span>/</span> </li> <li class="nav-item"> <a href="https://nghi.blog/tags/">Tags</a> </li> </ul> </nav> <script type="text/javascript">function gen_mail_to_link(a,n){var e,s,t=a.split("@");e=t[0],s=t[1],document.write('<a class="social-link-item" target="_blank" href="mailto'),document.write(":"+e+"@"),document.write(s+"?subject="+n+'"><span class="fa fa-fw fa-envelope"></span><span class="sr-only">nghi.dcg@gmail.com</span></a>')}</script> <div class="social-links"> <ul> <li><a href="http://linkedin.com/in/nghinx" class="social-link-item" target="_blank"><span class="fa fa-fw fa-linkedin"></span><span class="sr-only">nghinx</span></a></li> <li> <script>gen_mail_to_link("nghi.dcg@gmail.com","Hello from nghi.blog");</script> </li> </ul> </div> </div> </div> </div> <div class="col s12 m9"> <div class="post-listing"> <a class="btn" href="https://nghi.blog/"> &lbarr; Back </a> <div id="post"> <header class="post-header"> <h1 title="Git trên VPS Linux - Hướng dẫn cài đặt và sử dụng">Git trên VPS Linux - Hướng dẫn cài đặt và sử dụng</h1> <span class="post-meta"> <span class="post-date"> 3 JAN 2018 </span> • <span class="read-time" title="Estimated read time"> 4 mins read </span> </span> </header> <article class="post-content"> <p>Git là một Hệ thống quản lý phiên bản phân tán (Distributed Version Control System) tuyệt vời và phổ biến, chắc hẳn không còn xa lạ với bất kỳ một developer nào hiện nay. Bài viết này sẽ hướng dẫn cách cài đặt, cấu hình và sử dụng Git trên VPS Linux.</p> <h2>Các bước chuẩn bị cài đặt Git trên VPS Linux</h2> <p><strong>Cập nhật Linux -</strong> Trước khi cài đặt Git, bạn cần đảm bảo rằng Linux của bạn đã được cập nhật đầy đủ.</p> <p>Sử dụng các lệnh sau:</p> <pre>$ apt-get update
$ apt-get upgrade</pre> <p><strong>Tạo SSH Keys</strong> - Chúng ta sẽ sử dụng SSH keys cho việc chứng thực.</p> <p>Chúng ta cần tạo ra bộ đôi SSH keys, đó là public key và private key (mặc định là: id_rsa và id_rsa.pub). Nếu đang sử dụng macOS hay Linux thì bạn có thể tạo bằng cách sử dụng dòng lệnh sau:</p> <pre>$ ssh-keygen -C "nghi.dcg@gmail.com"</pre> <p>(Thay địa chỉ email thành của bạn).</p> <p>Nếu sử dụng hệ điều hành Windows, bạn có thể sử dụng <a href="https://www.ssh.com/ssh/putty/download" target="_blank" rel="noopener">PuTTY Gen</a> để tạo SSH keys.</p> <p>Một cách khác là bạn đăng nhập vào VPS của mình, sử dụng “Console” để tạo keys và download về sử dụng.</p> <p><strong>Tạo user để sử dụng Git</strong> - Bạn có thể đặt bất kỳ tên nào bạn thích.</p> <p>Ở đây mình sẽ đặt cho user là “git” cho dễ nhớ.</p> <p>a. Đăng nhập vào VPS và sử dụng quyền “root”:</p> <pre>$ su -</pre> <p>(Hoặc sử dụng “sudo” trước mỗi dòng lệnh, thay vì sử dụng lệnh trên).</p> <p>b. Lần lượt sử dụng các lệnh sau để tạo user và thiết lập mật khẩu đăng nhập:</p> <pre>$ useradd git
$ passwd git</pre> <h2>Tiến hành cài đặt và thiết lập Git</h2> <p>Bây giờ chúng ta cài đặt Git sử dụng các dòng lệnh dưới đây.</p> <p>Tuỳ thuộc vào distro của Linux mà bạn đang sử dụng trên VPS:</p> <pre>$ yum install git (CentOS/ Fedora)
$ apt-get install git (Ubuntu/ Debian)</pre> <p>Tiếp theo, ta cần thêm SSH key đã tạo trước đó vào thư mục “home” của user “git” để SSH daemon biết keys nào sẽ được chấp nhận.</p> <p>Bạn login bằng user “git” vào hệ thống, sử dụng lệnh:</p> <pre>$ su git</pre> <p>Sau đó tạo thư mục là “.ssh” và một file “authorized_keys”:</p> <pre>$ mkdir ~/.ssh &amp;&amp; touch ~/.ssh/authorized_keys</pre> <p><strong>Lưu ý:</strong></p> <ul> <li>Sử dụng hai dấu "&amp;" để thực hiện lệnh thứ nhất sau đó thực hiện tiếp lệnh thứ hai.</li> <li>Sử dụng dấu "~" trước mỗi đường dẫn để chỉ cho server biết ta đang trỏ về thư mục "home", lúc đó "~" sẽ tương đương với "/home/git/".</li> </ul> <p>Ngay sau đây ta sẽ sử dụng lệnh “cat”.</p> <p>Lệnh này sẽ in nội dung của file ra ngay màn hình của command line.</p> <p>Sau đó dùng “&gt;&gt;” để chèn nội dung vào file “authorized_keys”.</p> <p>Bạn phải cẩn thận khi sử dụng dấu này, nếu lỡ chỉ gõ “&gt;” thì nó sẽ ghi đè toàn bộ nội dung lên file mà bạn chỉ định, thay vì chèn nối tiếp nội dung vào file khi bạn sử dụng “&gt;&gt;”:</p> <pre>$ cat .ssh/id_rsa.pub | ssh git@IP_VPS_của_bạn "cat &gt;&gt; ~/.ssh/authorized_keys"</pre> <p>(Nếu có nhiều keys thì bạn chỉ việc chèn thêm nội dung các file id_rsa.pub, bằng cách sử dụng lệnh trên).</p> <p>Để kiểm tra lại nội dung đã được chèn vào file chính xác, ta sử dụng lệnh:</p> <pre>$ cat ~/.ssh/authorized_keys</pre> <h2>Thiết lập một Local Repository</h2> <p>Bạn chỉ cần gõ lệnh “git init” để khởi tạo một repository rỗng cho việc sử dụng sau đó:</p> <pre>$ git init --bare new-repo.git</pre> <p>Vậy là ta đã có một server Git trên VPS Linux của mình.</p> <p>Việc tiếp theo là sử dụng nó như cách ta làm việc trên các dự án có sử dụng Git.</p> <h2>Sử dụng Git Server từ Local Computer</h2> <p>Nếu bạn đã có sẵn một local repo và muốn push lên server Git vừa tạo, thì bạn cần thay đổi remote origin.</p> <p>Sử dụng lệnh dưới đây trên macOS và Linux:</p> <pre>$ git remote set-url origin git@IP_VPS_của_bạn:new-repo.git</pre> <p>(Trên Windows bạn sử dụng <a href="https://tortoisegit.org/" target="_blank" rel="noopener">TortoiseGit</a> rất trực quan hoặc sử dụng dòng lệnh với Git Bash).</p> <p>Còn nếu là một folder mới tinh tươm thì sử dụng lệnh:</p> <pre>$ git init &amp;&amp; git remote add origin git@IP_VPS_của_bạn:new-repo.git</pre> <p>Bây giờ bạn có thể thoải mái add, commit, pull, push, … từ máy tính của bạn lên Git trên VPS Linux.</p> <p>Để trông chuyên nghiệp hơn, bạn nên config thêm các thông tin như sau:</p> <pre>$ git config --global user.name "Nguyen Xuan Nghi"
$ git config --global user.email "nghi.dcg@gmail.com"</pre> <p>(Thay bằng thông tin của bạn).</p> <p>Xem thêm <a href="https://www.kernel.org/pub/software/scm/git/docs/git-config.html" target="_blank" rel="noopener">Git Config</a>.</p> <h2>Lời kết</h2> <p>Trên đây là hướng dẫn để cài đặt, cấu hình và sử dụng Git trên VPS Linux. Hy vọng rằng hữu ích với bạn.</p> <p><a href="https://nghi.blog/">Blog</a> mình trước đây sử dụng Git trên VPS Linux tại <a href="https://m.do.co/c/0da53dba0324" target="_blank" rel="noopener">DigitalOcean</a>, cảm thấy khá hài lòng về tốc độ và sự ổn định.</p> </article> </div> <div class="share-buttons"> <h6>Chia sẻ bài viết: </h6> <div class="addthis_inline_share_toolbox"></div> </div> <div id="disqus_thread"></div> <script id="dsq-count-scr" src="//nghinguyen.disqus.com/count.js" async></script> <script>var disqus_config=function(){this.page.url="https://nghi.blog/git-tren-vps-linux/",this.page.identifier="https://nghi.blog/git-tren-vps-linux/"};!function(){var t=document,e=t.createElement("script");e.src="https://nghinguyen.disqus.com/embed.js",e.setAttribute("data-timestamp",+new Date),(t.head||t.body).appendChild(e)}();</script> <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript> <footer> &copy; 2018 Nghi Nguyen. Hosted by <a href="https://www.netlify.com/">Netlify</a>, made with <span class="fa fa-heart heart-icon"></span></footer> </div> </div> </div> <script type="text/javascript" src="https://nghi.blog/js/jquery-3.2.1.min.js"></script> <script type="text/javascript" src="https://nghi.blog/js/main.js"></script> <script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5a65fe522e85b764"></script> <script>!function(e,t,a,n,c,o,s){e.GoogleAnalyticsObject=c,e[c]=e[c]||function(){(e[c].q=e[c].q||[]).push(arguments)},e[c].l=1*new Date,o=t.createElement(a),s=t.getElementsByTagName(a)[0],o.async=1,o.src=n,s.parentNode.insertBefore(o,s)}(window,document,"script","https://www.google-analytics.com/analytics.js","ga"),ga("create","UA-111732221-1","auto"),ga("send","pageview");</script> </body> </html>